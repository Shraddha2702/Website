function ez_attachEvent(element,evt,func){if(element.addEventListener){element.addEventListener(evt,func,false);}else{element.attachEvent("on"+ evt,func);}}
function ez_attachEventWithCapture(element,evt,func,useCapture){if(element.addEventListener){element.addEventListener(evt,func,useCapture);}else{element.attachEvent("on"+ evt,func);}}
function ez_detachEvent(element,evt,func){if(element.removeEventListener){element.removeEventListener(evt,func);}else{element.detachEvent("on"+evt,func);}}
function ez_getQueryString(field,url){var href=url?url:window.location.href;var reg=new RegExp('[?&]'+ field+'=([^&#]*)','i');var string=reg.exec(href);return string?string[1]:null;}(function(root,factory){if(typeof define==='function'&&define.amd){define('ezRiveted',[],factory)}else if(typeof module==='object'&&module.exports){module.exports=factory()}else{root.riveted=factory()}}(this,function(){var riveted=(function(){var started=false,stopped=false,turnedOff=false,clockTime=0,startTime=new Date(),clockTimer=null,idleTimer=null,sendEvent,sendUserTiming,reportInterval,scrollDepth=0,idleTimeout,scrollTimer=0;function init(options){options=options||{};reportInterval=parseInt(options.reportInterval,10)||5;idleTimeout=parseInt(options.idleTimeout,10)||30;if(typeof options.eventHandler=='function'){sendEvent=options.eventHandler}if(typeof options.userTimingHandler=='function'){sendUserTiming=options.userTimingHandler}addListener(document,'keydown',trigger);addListener(document,'click',trigger);addListener(document,'touchstart',trigger);addListener(window,'mousemove',throttle(trigger,500));addListener(window,'scroll',triggerScroll);addListener(document,'visibilitychange',visibilityChange);addListener(document,'webkitvisibilitychange',visibilityChange)}function triggerScroll(){if(scrollTimer>0){clearTimeout(scrollTimer)}setIdle();scrollTimer=setTimeout(function(){stopScroll()},50)}function stopScroll(){clearTimeout(scrollTimer);trigger();setScrollDepth()}function setScrollDepth(){var h=document.documentElement,b=document.body,st='scrollTop',sh='scrollHeight';var percent=(h[st]||b[st])/((h[sh]||b[sh])-h.clientHeight)*100;if(percent>scrollDepth){scrollDepth=percent}}function throttle(func,wait){var context,args,result;var timeout=null;var previous=0;var later=function(){previous=new Date;timeout=null;result=func.apply(context,args)};return function(){var now=new Date;if(!previous)previous=now;var remaining=wait-(now-previous);context=this;args=arguments;if(remaining<=0){clearTimeout(timeout);timeout=null;previous=now;result=func.apply(context,args)}else if(!timeout){timeout=setTimeout(later,remaining)}return result}}function addListener(element,eventName,handler){if(element.addEventListener){element.addEventListener(eventName,handler,false)}else if(element.attachEvent){element.attachEvent('on'+eventName,handler)}else{element['on'+eventName]=handler}}sendUserTiming=function(timingValue){};sendEvent=function(time){};function setIdle(){clearTimeout(idleTimer);stopClock()}function visibilityChange(){if(document.hidden||document.webkitHidden){setIdle()}}function clock(){clockTime+=0.1;clockTime=Math.round(clockTime*100)/100;if(clockTime>0&&(clockTime%reportInterval===0)){sendEvent(clockTime)}}function stopClock(){stopped=true;clearInterval(clockTimer)}function turnOff(){setIdle();turnedOff=true}function turnOn(){turnedOff=false}function restartClock(){stopped=false;clearInterval(clockTimer);clockTimer=setInterval(clock,100)}function getEngagedTime(){return Math.round(clockTime)}function getScrollDepth(){return Math.round(scrollDepth)}function startRiveted(){var currentTime=new Date();var diff=currentTime-startTime;started=true;sendUserTiming(diff);clockTimer=setInterval(clock,1000)}function resetRiveted(){startTime=new Date();clockTime=0;started=false;stopped=false;clearInterval(clockTimer);clearTimeout(idleTimer)}function trigger(){if(turnedOff){return}if(!started){startRiveted()}if(stopped){restartClock()}clearTimeout(idleTimer);idleTimer=setTimeout(setIdle,idleTimeout*1000+100)}return{init:init,trigger:trigger,setIdle:setIdle,on:turnOn,off:turnOff,reset:resetRiveted,getTime:getEngagedTime,getScrollDepth:getScrollDepth}})();return riveted}));
var ezux=function(){function e(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function t(){if(e(document,"blur",E.unload),e(document,"copy",E.copyPaste),e(document,"cut",E.copyPaste),e(document,"mouseout",E.mouseOut),e(document,"paste",E.copyPaste),e(window,"beforeunload",E.unload),e(window,"blur",E.unload),e(window,"pagehide",E.unload),e(window,"unload",E.unload),e(window,"load",E.load),e(window,"pageshow",E.pageshow),n(),document.addEventListener){var t,a;void 0!==document.hidden?(t="hidden",a="visibilitychange"):void 0!==document.msHidden?(t="msHidden",a="msvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",a="webkitvisibilitychange"),document.addEventListener(a,function(e){document[t]?E.unload(e):E.pageshow(e)},!1)}else document.attachEvent("onvisibilitychange",E.unload)}function n(){var t=[];if(t.push.apply(t,document.querySelectorAll('a[href*="facebook.com/sharer/sharer.php"]')),t.push.apply(t,document.querySelectorAll('a[href*="facebook.com/sharer.php"]')),t.push.apply(t,document.querySelectorAll('a[href*="facebook.com/share.php"]')),t.push.apply(t,document.querySelectorAll('div[class*="fb-share-button"]')),t.push.apply(t,document.querySelectorAll('a[href*="twitter.com/share"]')),t.push.apply(t,document.querySelectorAll('a[href*="twitter.com/intent/tweet"]')),t.push.apply(t,document.querySelectorAll('iframe[class*="twitter-share-button"]')),t.push.apply(t,document.querySelectorAll('a[href*="plus.google.com/share"]')),t.push.apply(t,document.querySelectorAll('iframe[src*="apis.google.com/u/0/se/0/_/+1/sharebutton"]')),t.push.apply(t,document.querySelectorAll('a[href*="linkedin.com/cws/share"]')),t.push.apply(t,document.querySelectorAll('a[href*="linkedin.com/shareArticle"]')),t.push.apply(t,document.querySelectorAll('a[href*="pinterest.com/pin/create/button"]')),t.push.apply(t,document.querySelectorAll('a[href*="pinterest.com/pin/create/bookmarklet"]')),t.push.apply(t,document.querySelectorAll('a[href*="tumblr.com/share/link"]')),t.push.apply(t,document.querySelectorAll('a[href*="reddit.com/submit"]')),y){var n=t.map(function(e){return e.href});void 0!==n&&u("[Page Share] "+n.join(", "))}for(var a=0;a<t.length;a++)e(t[a],"click",E.pageshare)}function a(e){u("Deleting "+e),document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/"}function o(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),a=0;a<n.length;a++){for(var o=n[a];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}function i(e){return e+"_"+did}function r(){return(new Date-A)/1e3}function d(){__ez.bit.Fire(),__ez.pel.Fire()}function c(e){return e>=b}function u(e){y&&console.info("[UX] "+e)}function s(){"function"==typeof define&&define.amd?require(["ezRiveted"],function(e){l(e)}):l(riveted)}function l(e){(f=e).init({reportInterval:5,idleTimeout:30,eventHandler:function(e){u("Event: "+parseInt(e)+" --- Engaged Time: "+parseInt(f.getTime())),f.getTime()>=S&&(u("Turning off timer"),E.unload({type:"max"}),f.off())}})}function p(){v=setInterval(function(){E.unload({type:"auto"}),r()>S&&(u("Turning off auto"),clearInterval(v))},w)}function _(){if(u("[Performance] Store performance"),1!=h&&window.performance&&window.performance.timing){var e=performance.timing.navigationStart,t=performance.timing.connectEnd,n=performance.timing.responseStart,a=performance.timing.responseEnd,o=performance.timing.domInteractive,i=performance.timing.domContentLoadedEventEnd,r=performance.timing.domComplete;if(e>0&&r>0){if(window.performance.navigation){var c=performance.navigation.type,s=performance.navigation.redirectCount;__ez.bit.Add(T,[new __ezDotData("navigation_type",c),new __ezDotData("redirect_count",s)])}perf_vals={};var l=t-e,p=n-t,_=a-n,g=o-a,m=i-a,f=r-a;__ez.bit.Add(T,[new __ezDotData("perf_is_tracked",1),new __ezDotData("perf_nav_to_connect",l),new __ezDotData("perf_connect_to_resp_start",p),new __ezDotData("perf_resp_time",_),new __ezDotData("perf_interactive",g),new __ezDotData("perf_contentloaded",m),new __ezDotData("perf_complete",f)]),u("[Performance] perf_nav_to_connect: "+l),u("[Performance] perf_connect_to_resp_start: "+p),u("[Performance] perf_resp_time: "+_),u("[Performance] perf_interactive: "+g),u("[Performance] perf_contentloaded: "+m),u("[Performance] perf_complete: "+f),h=!0,d()}}}function g(){var e=i("ezux_et"),t=i("ezux_tos"),n=f.getTime()-P.engagedAdded,a=r()-P.tosAdded,d=o(e),c=o(t);n==z.engagedTime&&(n=0);var s=parseInt(n)+parseInt(""==d?0:d),l=parseInt(a)+parseInt(""==c?0:c);u("[Times] Total Engaged: "+s+" (+"+n+")"),u("[Times] Total TOS: "+l+" (+"+a+")"),document.cookie=e+"="+s,document.cookie=t+"="+l,P.engagedAdded+=n,P.tosAdded+=a}function m(e){var t=e.split(" ");2!==t.length&&u("Invalid ezoawesome cookie value");var n=t[0],a=t[1];if(!isNaN(a)){var o=Math.floor((Date.now()-a)/1e3);__ez.pel.AddById(n,[new __ezDotData("click_bounce_time",o)]),u("[Bounce] impId: "+n),u("[Bounce] bounceTime: "+o)}}if("undefined"!=typeof _ezaq&&_ezaq.hasOwnProperty("page_view_id")){var f,h=!1,v=0,w=15e3,y="1"==ez_getQueryString("ezux_debug"),D={copyPaste:0,shares:0},z={copyPasteCount:0,engagedTime:0,isEngagedPage:0,scrollDepth:0,unloadTime:0,shareCount:0},S=1800,T=_ezaq.page_view_id,b=10,A=new Date,P={engagedAdded:0,tosAdded:0},E={copyPaste:function(){D.copyPaste++},mouseOut:function(e){if(void 0!==(e=e||window.event)&&void 0!==e.target&&void 0!==e.target.tagName&&"input"!==e.target.tagName.toLowerCase()){var t=Math.max(document.documentElement.clientWidth,window.innerWidth||0);e.clientX>=t-50||e.clientY>=50||e.relatedTarget||e.toElement||E.unload(e)}},load:function(e){_()},unload:function(e){var t=(new Date).getTime();(0===z.unloadTime||t>z.unloadTime+3e3)&&(g(),_(),k.unloadAll(e),z.unloadTime=t)},pageshow:function(e){var t=i("ezoawesome"),n=o(t);n.length>0&&(u("Bounce ("+t+") detected with val "+n),m(n),a(t))},pageshare:function(e){D.shares++,k.addPageShares()}},k={addCopyPaste:function(){D.copyPaste>0&&D.copyPaste!=z.copyPasteCount&&(__ez.bit.Add(T,[new __ezDotData("copy_paste_count",D.copyPaste)]),z.copyPasteCount=D.copyPaste)},addDeviceSizes:function(){u("Storing device sizes"),__ez.bit.Add(T,[new __ezDotData("device_width",screen.width),new __ezDotData("device_height",screen.height)])},addEngagedTimes:function(e){e!=z.engagedTime&&(__ez.bit.Add(T,[new __ezDotData("engaged_time",e)]),z.engagedTime=e)},addIsEngagedPage:function(e){0==z.isEngagedPage&&c(e)&&(__ez.bit.Add(T,[new __ezDotData("is_engaged_page",1)]),z.isEngagedPage=1)},addIsFirstEngagedPage:function(e){var t=i("ezux_ifep");0==o(t).length&&c(e)&&(u("Adding first engaged cookie"),document.cookie=t+"=true",__ez.bit.Add(T,[new __ezDotData("is_first_engaged_page",1)]))},addLocalTime:function(){u("Storing local time");var e=new Date,t=e.getTimezoneOffset();if(!(t<-840||t>720)){var n=new Date(e-6e4*t);if(!(Math.abs(n-e)/36e5>14)){Date.prototype.toISOString||function(){function e(e){return e<10?"0"+e:e}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}();var a=n.toISOString().slice(0,19).replace("T"," ").split(" ")[0];if(!(a.length<1||"0"==a[0])){var o=e.getHours(),i=e.getDay();__ez.bit.Add(T,[new __ezDotData("t_local_date",a),new __ezDotData("t_local_hour",o),new __ezDotData("t_local_day_of_week",i),new __ezDotData("t_local_timezone",t)])}}}},addScrollDepth:function(){var e=f.getScrollDepth();e!=z.scrollDepth&&(__ez.bit.Add(T,[new __ezDotData("scroll_percent_vertical",e)]),z.scrollDepth=e)},addPageShares:function(){D.shares>0&&D.shares!=z.shareCount&&(u("[Page Share] Store page shares: "+D.shares),__ez.bit.Add(T,[new __ezDotData("share",D.shares)]),z.shareCount=D.shares)},unloadAll:function(e){var t=f.getTime();k.addEngagedTimes(t),k.addCopyPaste(),k.addScrollDepth(),k.addIsEngagedPage(t),k.addIsFirstEngagedPage(t),k.addPageShares(),u("Unload ("+e.type+")"),d()}};!function(){k.addDeviceSizes(),k.addLocalTime(),d(),t(),s(),p()}()}}();